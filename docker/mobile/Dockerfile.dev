# Development Dockerfile for React Native (Expo Web)
# Bleeding-edge Node.js for development
FROM node:22-alpine

WORKDIR /app

# Install latest dependencies
RUN apk add --no-cache \
    git \
    bash \
    curl

# Install latest Expo CLI globally
RUN npm install -g expo-cli@latest

# Copy workspace files
COPY package*.json ./
COPY mobile/package*.json ./mobile/
COPY shared/package*.json ./shared/

# Install all dependencies
WORKDIR /app/mobile
RUN npm install

# Workspace will be mounted as volume for hot reload

# Expose ports
EXPOSE 19000 19001 19006

# Start Expo with hot reload
CMD ["npx", "expo", "start", "--web", "--host", "0.0.0.0", "--dev-client"]
