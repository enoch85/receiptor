# Development Dockerfile for Next.js Web App
# Bleeding-edge Node.js for development
FROM node:22-alpine

WORKDIR /app

# Install dependencies
RUN apk add --no-cache \
    git \
    bash \
    curl

# Copy workspace files
COPY package*.json ./
COPY web/package*.json ./web/
COPY shared/package*.json ./shared/

# Install all dependencies
WORKDIR /app/web
RUN npm install --ignore-scripts

# Workspace will be mounted as volume for hot reload

# Expose Next.js port
EXPOSE 3000

# Start Next.js with turbo and hot reload
CMD ["npm", "run", "dev", "--", "--turbo"]
